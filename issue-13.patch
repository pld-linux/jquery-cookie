From e32c4c4436d6def71041451c89f476963b517953 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Elan=20Ruusam=C3=A4e?= <glen@delfi.ee>
Date: Mon, 9 May 2011 17:03:28 +0300
Subject: [PATCH] decode plus sign
URL: https://github.com/carhartl/jquery-cookie/issues/13

bugfix for carhartl/jquery-cookie#13
---
 jquery.cookie.js |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/jquery.cookie.js b/jquery.cookie.js
index 61d3bce..c9bc59e 100644
--- a/jquery.cookie.js
+++ b/jquery.cookie.js
@@ -86,6 +86,6 @@ jQuery.cookie = function (key, value, options) {
 
     // key and possibly options given, get cookie...
     options = value || {};
-    var result, decode = options.raw ? function (s) { return s; } : decodeURIComponent;
+    var result, decode = function (s) { return options.raw ? s : decodeURIComponent(s.replace(/\+/g, ' ')) };
     return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;
 };
-- 
1.7.5.4

From 2d1005b362cc8ec871d80bbe09d5bb82b73c0feb Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Elan=20Ruusam=C3=A4e?= <glen@delfi.ee>
Date: Tue, 10 May 2011 07:53:53 +0300
Subject: [PATCH] handle null cookie values

refs carhartl/jquery-cookie#13
---
 jquery.cookie.js |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/jquery.cookie.js b/jquery.cookie.js
index c9bc59e..7e9d632 100644
--- a/jquery.cookie.js
+++ b/jquery.cookie.js
@@ -86,6 +86,6 @@ jQuery.cookie = function (key, value, options) {
 
     // key and possibly options given, get cookie...
     options = value || {};
-    var result, decode = function (s) { return options.raw ? s : decodeURIComponent(s.replace(/\+/g, ' ')) };
+    var result, decode = function (s) { return !options.raw && s ? decodeURIComponent(s.replace(/\+/g, ' ')) : s };
     return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;
 };
-- 
1.7.5.4

